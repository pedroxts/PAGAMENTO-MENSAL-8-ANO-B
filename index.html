
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Pagamentos - Atualizado</title>
<style>
  body { font-family: "Segoe UI", Arial, sans-serif; margin: 30px; background-color: #f4f6f9; color: #333; }
  h1 { text-align: center; margin-bottom: 20px; }
  table { width: 100%; border-collapse: collapse; background: #fff; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
  th, td { border: 1px solid #ddd; padding: 6px; text-align: center; font-size: 14px; }
  th { background-color: #0078d7; color: white; }
  select { padding: 4px; border-radius: 4px; border: 1px solid #ccc; }
  tr:nth-child(even) { background-color: #f9f9f9; }
  .total-cell { font-weight: bold; background-color: #e8f4ff; }
  .summary { margin-top: 25px; background: #fff; padding: 15px; border-radius: 6px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
  .summary h2 { margin-top: 0; color: #0078d7; }
  ul { list-style-type: none; padding-left: 0; }
  li { margin-bottom: 5px; }
  .highlight { color: #0078d7; font-weight: bold; }
  .divider { border-top: 1px solid #ddd; margin: 10px 0; }
  .small-note { font-size: 13px; color: #555; margin-bottom: 10px; }
  /* ----------- üì± MODO CELULAR (at√© 768px) ----------- */
@media (max-width: 768px) {
  body {
    margin: 0;
    background-color: #f2f5fa;
    font-family: "Poppins", Arial, sans-serif;
  }

  h1 {
    background: linear-gradient(135deg, #0078d7, #00bfff);
    color: white;
    padding: 18px;
    margin: 0;
    font-size: 20px;
    border-bottom: 3px solid #005a9e;
    text-shadow: 0 1px 3px rgba(0,0,0,0.2);
  }

  .small-note {
    display: none;
  }

  /* Esconde a tabela no celular */
  table {
    display: none;
  }

  /* Se√ß√£o principal mobile */
  .mobile-container {
    padding: 15px;
  }

  .card {
    background: white;
    border-radius: 15px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    transition: transform 0.2s;
  }

  .card:hover {
    transform: scale(1.02);
  }

  .card h3 {
    margin: 0;
    color: #0078d7;
    font-size: 17px;
    margin-bottom: 10px;
  }

  .status-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 10px;
  }

  .status {
    background: #e8f4ff;
    color: #333;
    border-radius: 20px;
    padding: 5px 10px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .status.pago {
    background: #c8f7c5;
    color: #2d7a2d;
  }

  .status.nao-pago {
    background: #ffd6d6;
    color: #a33;
  }

  .total {
    font-weight: bold;
    color: #0078d7;
    text-align: right;
    font-size: 14px;
  }

  /* Relat√≥rio Mobile */
  .summary {
    margin: 20px;
    padding: 15px;
    border-radius: 12px;
    background: white;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  }

  .summary h2 {
    text-align: center;
    color: #0078d7;
    font-size: 18px;
  }

  .summary ul {
    margin-top: 10px;
    font-size: 14px;
  }
}
</style>
</head>
<body>

<h1>Controle de Pagamentos - Atualizado (Mar√ßo a Outubro)</h1>
<div class="mobile-container" id="mobileContainer"></div>
  

<div class="small-note">Os dados da tabela foram importados da sua planilha. Use os dropdowns para ajustar manualmente; os totais e o relat√≥rio se atualizam automaticamente.</div>

<table id="paymentTable">
  <thead>
    <tr>
      <th>Aluno</th>
      <th>Mar√ßo</th>
      <th>Abril</th>
      <th>Maio</th>
      <th>Junho</th>
      <th>Agosto</th>
      <th>Setembro</th>
      <th>Outubro</th>
      <th>Total (R$)</th>
    </tr>
  </thead>
  <tbody></tbody>
  <tfoot>
    <tr>
      <th colspan="8">TOTAL GERAL</th>
      <th id="grandTotal">R$ 0,00</th>
    </tr>
  </tfoot>
</table>

<div class="summary">
  <h2>Relat√≥rio de Pagamentos</h2>
  <ul id="relatorioPagamentos"></ul>
  <div class="divider"></div>
  <p><span class="highlight">Total geral arrecadado:</span> <span id="summaryTotal">R$ 0,00</span></p>
</div>

<script>
  const dados = [{"nome": "Ana J√∫lia Alves Soares", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "Pago Dinheiro", "Junho": "Pago Dinheiro", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Anne Beatricce de Oliveira Rodrigues", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "Pago PIX", "Outubro": "Pago PIX"}, {"nome": "Carlos Eduardo Bi√¢ngulo Rodrigues", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "Pago PIX", "Outubro": "Pago PIX"}, {"nome": "Davi Asafe Trigueiro Silva", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "Pago Dinheiro", "Junho": "Pago Dinheiro", "Agosto": "Pago Dinheiro", "Setembro": "", "Outubro": ""}, {"nome": "Diogo Barcelos Gon√ßalves", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "", "Agosto": "Pago PIX", "Setembro": "Pago PIX", "Outubro": ""}, {"nome": "Enzo Araujo dos Santos", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "", "Outubro": ""}, {"nome": "Estela Klara Martins da Silva", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "Pago PIX", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Isabella Giovana Amaral de Oliveira", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Isabelly Giovanna de Carvalho Fran√ßa", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "Pago PIX", "Outubro": "Pago PIX"}, {"nome": "Italo Davi Domingos Sales", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "Pago PIX", "Outubro": ""}, {"nome": "Jo√£o Miguel de Castro Rodrigues", "Mar√ßo": "Pago PIX", "Abril": "", "Maio": "", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Jo√£o Pedro Borges Louren√ßo", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "Pago Dinheiro", "Junho": "Pago Dinheiro", "Agosto": "Pago Dinheiro", "Setembro": "Pago Dinheiro", "Outubro": "Pago Dinheiro"}, {"nome": "Jo√£o Vitor Pereira Andrade", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Laura Coelho Maciel", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Luna Aimƒõ de Oliveira Rodrigues", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "Pago PIX", "Outubro": "Pago PIX"}, {"nome": "Maria Clara Cunha Rocha*", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago Dinheiro", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Maria Fernanda Ribeiro Costa", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "Pago Dinheiro", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Maria Luiza Lopes Bandeira Borba", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Marina Oliveira Rodrigues Souto", "Mar√ßo": "Pago Dinheiro", "Abril": "", "Maio": "", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Mateus Cardoso Meireles Pessoa", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "Pago Dinheiro", "Junho": "Pago PIX", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Nathan Vin√≠cius Sab√≥ia de Andrade", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Nicolas Ed Crispim Melo", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "", "Outubro": ""}, {"nome": "Pedro Henrique Holanda Palmeira", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Rafaela Gon√ßalves da Silva", "Mar√ßo": "Pago PIX", "Abril": "Pago Dinheiro", "Maio": "Pago Dinheiro", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Sophia da Silva de Brito Rocha Ramos", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Victor Barbosa de Sousa", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "", "Outubro": ""}, {"nome": "Isabele Boaventura", "Mar√ßo": "Pago Dinheiro", "Abril": "Pago Dinheiro", "Maio": "N√£o Pago", "Junho": "", "Agosto": "", "Setembro": "", "Outubro": ""}, {"nome": "Ana Paula ", "Mar√ßo": "Pago PIX", "Abril": "Pago PIX", "Maio": "Pago PIX", "Junho": "Pago PIX", "Agosto": "Pago PIX", "Setembro": "Pago PIX", "Outubro": "Pago PIX"}];
  const meses = ["Mar√ßo", "Abril", "Maio", "Junho", "Agosto", "Setembro", "Outubro"];
  const valorMensal = 10;

  const tableBody = document.querySelector("#paymentTable tbody");

  function criarOption(value, selectedValue) {
    const option = document.createElement("option");
    option.value = value;
    option.textContent = value;
    if (selectedValue) {
      if (value.trim().toLowerCase() === selectedValue.trim().toLowerCase()) {
        option.selected = true;
      }
    }
    return option;
  }

  function normalizarValor(v) {
    if (!v || v.toString().trim() === "") return "N√£o Pago";
    const s = v.toString().trim().toLowerCase();
    if (s.includes("pix")) return "Pago PIX";
    if (s.includes("dinheiro")) return "Pago Dinheiro";
    return v.toString();
  }

  dados.forEach(aluno => {
    const tr = document.createElement("tr");
    const tdNome = document.createElement("td");
    tdNome.textContent = aluno.nome;
    tr.appendChild(tdNome);

    meses.forEach(mes => {
      const td = document.createElement("td");
      const select = document.createElement("select");

      ["N√£o Pago", "Pago PIX", "Pago Dinheiro"].forEach(opt => {
        const option = criarOption(opt, normalizarValor(aluno[mes]));
        select.appendChild(option);
      });

      select.addEventListener("change", atualizarTotais);
      td.appendChild(select);
      tr.appendChild(td);
    });

    const tdTotal = document.createElement("td");
    tdTotal.className = "total-cell";
    tdTotal.textContent = "R$ 0,00";
    tr.appendChild(tdTotal);

    tableBody.appendChild(tr);
  });

  function atualizarTotais() {
    let totalGeral = 0;
    const relatorio = [];

    document.querySelectorAll("#paymentTable tbody tr").forEach(tr => {
      const selects = tr.querySelectorAll("select");
      const nomeAluno = tr.querySelector("td").textContent;
      let totalAluno = 0;
      const mesesPagos = [];

      selects.forEach((sel, i) => {
        if (sel.value === "Pago PIX" || sel.value === "Pago Dinheiro") {
          totalAluno += valorMensal;
          mesesPagos.push(meses[i]);
        }
      });

      tr.querySelector(".total-cell").textContent = `R$ ${totalAluno.toFixed(2)}`;
      totalGeral += totalAluno;

      relatorio.push({ nome: nomeAluno, mesesPagos, qtd: mesesPagos.length });
    });

    document.getElementById("grandTotal").textContent = `R$ ${totalGeral.toFixed(2)}`;
    document.getElementById("summaryTotal").textContent = `R$ ${totalGeral.toFixed(2)}`;

    atualizarRelatorio(relatorio);
  }

  function atualizarRelatorio(relatorio) {
    const ul = document.getElementById("relatorioPagamentos");
    ul.innerHTML = "";

    relatorio.forEach(item => {
      const li = document.createElement("li");
      if (item.qtd === 0) {
        li.innerHTML = `<strong>${item.nome}</strong> ‚Äî Nenhum pagamento registrado.`;
      } else {
        li.innerHTML = `<strong>${item.nome}</strong> ‚Äî Pagou: ${item.mesesPagos.join(", ")} (${item.qtd} meses)`;
      }
      ul.appendChild(li);
    });
  }

  // Inicializa o relat√≥rio ao carregar a p√°gina
  atualizarTotais();
  // Gera vers√£o mobile automaticamente
function gerarCardsMobile() {
  const container = document.getElementById("mobileContainer");
  if (!container) return;
  container.innerHTML = "";

  dados.forEach(aluno => {
    const card = document.createElement("div");
    card.className = "card";

    const nome = document.createElement("h3");
    nome.textContent = aluno.nome;
    card.appendChild(nome);

    const grid = document.createElement("div");
    grid.className = "status-grid";

    let total = 0;

    meses.forEach(mes => {
      const valor = aluno[mes] || "N√£o Pago";
      const pago = valor.includes("Pago");
      const div = document.createElement("div");
      div.className = "status " + (pago ? "pago" : "nao-pago");
      div.textContent = `${mes}: ${pago ? "Pago" : "N√£o Pago"}`;
      grid.appendChild(div);
      if (pago) total += valorMensal;
    });

    card.appendChild(grid);

    const totalEl = document.createElement("div");
    totalEl.className = "total";
    totalEl.textContent = `Total: R$ ${total.toFixed(2)}`;
    card.appendChild(totalEl);

    container.appendChild(card);
  });
}

// Mostra os cart√µes apenas no modo mobile
if (window.innerWidth <= 768) {
  gerarCardsMobile();
}

</script>

</body>
</html>
