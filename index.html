
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Pagamentos - Atualizado</title>
<style>
  body { font-family: "Segoe UI", Arial, sans-serif; margin: 30px; background-color: #f4f6f9; color: #333; }
  h1 { text-align: center; margin-bottom: 20px; }
  table { width: 100%; border-collapse: collapse; background: #fff; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
  th, td { border: 1px solid #ddd; padding: 6px; text-align: center; font-size: 14px; }
  th { background-color: #0078d7; color: white; }
  select { padding: 4px; border-radius: 4px; border: 1px solid #ccc; }
  tr:nth-child(even) { background-color: #f9f9f9; }
  .total-cell { font-weight: bold; background-color: #e8f4ff; }
  .summary { margin-top: 25px; background: #fff; padding: 15px; border-radius: 6px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
  .summary h2 { margin-top: 0; color: #0078d7; }
  ul { list-style-type: none; padding-left: 0; }
  li { margin-bottom: 5px; }
  .highlight { color: #0078d7; font-weight: bold; }
  .divider { border-top: 1px solid #ddd; margin: 10px 0; }
  .small-note { font-size: 13px; color: #555; margin-bottom: 10px; }
  /* ----------- üì± MODO CELULAR (at√© 768px) ----------- */
@media (max-width: 768px) {
  body {
    margin: 0;
    background-color: #f2f5fa;
    font-family: "Poppins", Arial, sans-serif;
  }

  h1 {
    background: linear-gradient(135deg, #0078d7, #00bfff);
    color: white;
    padding: 18px;
    margin: 0;
    font-size: 20px;
    border-bottom: 3px solid #005a9e;
    text-shadow: 0 1px 3px rgba(0,0,0,0.2);
  }

  .small-note {
    display: none;
  }

  /* Esconde a tabela no celular */
  table {
    display: none;
  }

  /* Se√ß√£o principal mobile */
  .mobile-container {
    padding: 15px;
  }

  .card {
    background: white;
    border-radius: 15px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    transition: transform 0.2s;
  }

  .card:hover {
    transform: scale(1.02);
  }

  .card h3 {
    margin: 0;
    color: #0078d7;
    font-size: 17px;
    margin-bottom: 10px;
  }

  .status-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 10px;
  }

  .status {
    background: #e8f4ff;
    color: #333;
    border-radius: 20px;
    padding: 5px 10px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .status.pago {
    background: #c8f7c5;
    color: #2d7a2d;
  }

  .status.nao-pago {
    background: #ffd6d6;
    color: #a33;
  }

  .total {
    font-weight: bold;
    color: #0078d7;
    text-align: right;
    font-size: 14px;
  }

  /* Relat√≥rio Mobile */
  .summary {
    margin: 20px;
    padding: 15px;
    border-radius: 12px;
    background: white;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  }

  .summary h2 {
    text-align: center;
    color: #0078d7;
    font-size: 18px;
  }

  .summary ul {
    margin-top: 10px;
    font-size: 14px;
  }
}
</style>
</head>
<body>

<h1>Controle de Pagamentos - Atualizado (Mar√ßo a Outubro)</h1>
<div class="mobile-container" id="mobileContainer"></div>
  

<div class="small-note">Os dados da tabela foram importados da sua planilha. Use os dropdowns para ajustar manualmente; os totais e o relat√≥rio se atualizam automaticamente.</div>

<table id="paymentTable">
  <thead>
    <tr>
      <th>Aluno</th>
      <th>Mar√ßo</th>
      <th>Abril</th>
      <th>Maio</th>
      <th>Junho</th>
      <th>Agosto</th>
      <th>Setembro</th>
      <th>Outubro</th>
      <th>Total (R$)</th>
    </tr>
  </thead>
  <tbody></tbody>
  <tfoot>
    <tr>
      <th colspan="8">TOTAL GERAL</th>
      <th id="grandTotal">R$ 0,00</th>
    </tr>
  </tfoot>
</table>

<div class="summary">
  <h2>Relat√≥rio de Pagamentos</h2>
  <ul id="relatorioPagamentos"></ul>
  <div class="divider"></div>
  <p><span class="highlight">Total geral arrecadado:</span> <span id="summaryTotal">R$ 0,00</span></p>
</div>

<script>
// Gera vers√£o mobile automaticamente com base nos selects (dados atuais)
function gerarCardsMobile() {
  const container = document.getElementById("mobileContainer");
  if (!container) return;
  container.innerHTML = "";

  const linhas = document.querySelectorAll("#paymentTable tbody tr");
  
  linhas.forEach(tr => {
    const nome = tr.querySelector("td").textContent;
    const selects = tr.querySelectorAll("select");
    const card = document.createElement("div");
    card.className = "card";

    const nomeEl = document.createElement("h3");
    nomeEl.textContent = nome;
    card.appendChild(nomeEl);

    const grid = document.createElement("div");
    grid.className = "status-grid";

    let total = 0;

    selects.forEach((sel, i) => {
      const mes = meses[i];
      const valor = sel.value;
      const pago = valor.includes("Pago");
      const div = document.createElement("div");
      div.className = "status " + (pago ? "pago" : "nao-pago");
      div.textContent = `${mes}: ${pago ? "Pago" : "N√£o Pago"}`;
      grid.appendChild(div);
      if (pago) total += valorMensal;
    });

    card.appendChild(grid);

    const totalEl = document.createElement("div");
    totalEl.className = "total";
    totalEl.textContent = `Total: R$ ${total.toFixed(2)}`;
    card.appendChild(totalEl);

    container.appendChild(card);
  });
}

// Atualiza cards sempre que algo muda
function atualizarCardsMobile() {
  if (window.innerWidth <= 768) {
    gerarCardsMobile();
  }
}

// Recria vers√£o mobile ao carregar
if (window.innerWidth <= 768) {
  gerarCardsMobile();
}

// Atualiza em tempo real quando muda algum select
document.querySelectorAll("#paymentTable select").forEach(sel => {
  sel.addEventListener("change", atualizarCardsMobile);
});

</script>

</body>
</html>
