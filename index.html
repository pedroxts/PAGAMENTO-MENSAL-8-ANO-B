<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Pagamentos - Alunos</title>
<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    margin: 30px;
    background-color: #f4f6f9;
    color: #333;
  }

  h1 {
    text-align: center;
    margin-bottom: 20px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
  }

  th, td {
    border: 1px solid #ddd;
    padding: 6px;
    text-align: center;
    font-size: 14px;
  }

  th {
    background-color: #0078d7;
    color: white;
  }

  select {
    padding: 4px;
    border-radius: 4px;
    border: 1px solid #ccc;
  }

  tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  .total-cell {
    font-weight: bold;
    background-color: #e8f4ff;
  }

  .summary {
    margin-top: 25px;
    background: #fff;
    padding: 15px;
    border-radius: 6px;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
  }

  .summary h2 {
    margin-top: 0;
    color: #0078d7;
  }

  ul {
    list-style-type: none;
    padding-left: 0;
  }

  li {
    margin-bottom: 5px;
  }

  .highlight {
    color: #0078d7;
    font-weight: bold;
  }

  .divider {
    border-top: 1px solid #ddd;
    margin: 10px 0;
  }
</style>


</head>
<body>

<h1>Controle de Pagamentos - Alunos (Março a Outubro)</h1>

<table id="paymentTable">
  <thead>
    <tr>
      <th>Aluno</th>
      <th>Mar</th>
      <th>Abr</th>
      <th>Mai</th>
      <th>Jun</th>
      <th>Jul</th>
      <th>Ago</th>
      <th>Out</th>
      <th>Total (R$)</th>
    </tr>
  </thead>
  <tbody></tbody>
  <tfoot>
    <tr>
      <th colspan="8">TOTAL GERAL</th>
      <th id="grandTotal">R$ 0,00</th>
    </tr>
  </tfoot>
</table>

<div class="summary">
  <h2>Relatório de Pagamentos</h2>
  <ul id="relatorioPagamentos"></ul>
  <div class="divider"></div>
  <p><span class="highlight">Total geral arrecadado:</span> <span id="summaryTotal">R$ 0,00</span></p>
</div>

<script>
  const alunos = [
    "Ana Júlia Alves Soares",
    "Anne Beatricce de Oliveira Rodrigues",
    "Carlos Eduardo Biângulo Rodrigues",
    "Davi Asafe Trigueiro Silva",
    "Diogo Barcelos Gonçalves",
    "Enzo Araujo dos Santos",
    "Estela Klara Martins da Silva",
    "Isabella Giovana Amaral de Oliveira",
    "Isabelly Giovanna de Carvalho França",
    "Italo Davi Domingos Sales",
    "João Miguel de Castro Rodrigues",
    "João Pedro Borges Lourenço",
    "João Vitor Pereira Andrade",
    "Laura Coelho Maciel",
    "Luna Aimě de Oliveira Rodrigues",
    "Maria Clara Cunha Rocha",
    "Maria Fernanda Ribeiro Costa",
    "Maria Luiza Lopes Bandeira Borba",
    "Marina Oliveira Rodrigues Souto",
    "Mateus Cardoso Meireles Pessoa",
    "Nathan Vinícius Sabóia de Andrade",
    "Nicolas Ed Crispim Melo",
    "Pedro Henrique Holanda Palmeira",
    "Rafaela Gonçalves da Silva",
    "Sophia da Silva de Brito Rocha Ramos",
    "Victor Barbosa de Sousa",
    "Isabele Boaventura",
    "Ana Paula"
  ];

  const meses = ["Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Out"];
  const valorMensal = 10;

  const tableBody = document.querySelector("#paymentTable tbody");

  alunos.forEach(aluno => {
    const tr = document.createElement("tr");
    const tdNome = document.createElement("td");
    tdNome.textContent = aluno;
    tr.appendChild(tdNome);

    meses.forEach(() => {
      const td = document.createElement("td");
      const select = document.createElement("select");

      ["Não Pago", "Pago PIX", "Pago Dinheiro"].forEach(opt => {
        const option = document.createElement("option");
        option.value = opt;
        option.textContent = opt;
        select.appendChild(option);
      });

      select.addEventListener("change", atualizarTotais);
      td.appendChild(select);
      tr.appendChild(td);
    });

    const tdTotal = document.createElement("td");
    tdTotal.className = "total-cell";
    tdTotal.textContent = "R$ 0,00";
    tr.appendChild(tdTotal);

    tableBody.appendChild(tr);
  });

  function atualizarTotais() {
    let totalGeral = 0;
    const relatorio = [];

    document.querySelectorAll("#paymentTable tbody tr").forEach(tr => {
      const selects = tr.querySelectorAll("select");
      const nomeAluno = tr.querySelector("td").textContent;
      let totalAluno = 0;
      const mesesPagos = [];

      selects.forEach((sel, i) => {
        if (sel.value === "Pago PIX" || sel.value === "Pago Dinheiro") {
          totalAluno += valorMensal;
          mesesPagos.push(meses[i]);
        }
      });

      tr.querySelector(".total-cell").textContent = `R$ ${totalAluno.toFixed(2)}`;
      totalGeral += totalAluno;

      relatorio.push({
        nome: nomeAluno,
        mesesPagos,
        qtd: mesesPagos.length
      });
    });

    document.getElementById("grandTotal").textContent = `R$ ${totalGeral.toFixed(2)}`;
    document.getElementById("summaryTotal").textContent = `R$ ${totalGeral.toFixed(2)}`;

    atualizarRelatorio(relatorio);
  }

  function atualizarRelatorio(relatorio) {
    const ul = document.getElementById("relatorioPagamentos");
    ul.innerHTML = "";

    relatorio.forEach(item => {
      const li = document.createElement("li");
      if (item.qtd === 0) {
        li.innerHTML = `<strong>${item.nome}</strong> — Nenhum pagamento registrado.`;
      } else {
        li.innerHTML = `<strong>${item.nome}</strong> — Pagou: ${item.mesesPagos.join(", ")} (${item.qtd} meses)`;
      }
      ul.appendChild(li);
    });
  }

  // Inicializa o relatório ao carregar a página
  atualizarTotais();
</script>

</body>
</html>

